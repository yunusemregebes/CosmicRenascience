<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Map</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossoriqgin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="icon" href="./astronaut.png" type="image/x-icon">
</head>

<body class="body">

    <nav class="desktop-navbar">
        <a class="anasayfa" href="../index.html">Cosmic RenaScience</a>
        <a href="./Analysis/page.html" class="fade-link">Analysis</a>
        <a href="./index2.html" class="fade-link">3D Map</a>
        <a href="./Algorithms/page.html" class="fade-link">Algorithms</a>
        <a href="./Academic/page.html" class="fade-link">Academic</a>
        <a href="./OurVision/page.html" class="fade-link">Our Vision</a>
        <a href="./AboutUs/page.html" class="fade-link">About Us</a>

    </nav>

    <nav class="mobile-navbar">
        <div class="menu-icon">
            <i class="fas fa-bars"></i>
        </div>
        <div class="nav-links">
            <a href="./Analysis/page.html" class="fade-link">Analysis</a>
            <a href="./index2.html" class="fade-link">3D Map</a>
            <a href="./Algorithms/page.html" class="fade-link">Algorithms</a>
            <a href="./Academic/page.html" class="fade-link">Academic</a>
            <a href="./OurVision/page.html" class="fade-link">Our Vision</a>
            <a href="./AboutUs/page.html" class="fade-link">About Us</a>
        </div>
        <a class="anasayfa" href="../index.html">Cosmic RenaScience</a>
    </nav>

    <div id="popup" class="popup">
        <div class="popup-content">
            <span class="close-btn">&times;</span>

            <div class="popup-text">
                <h2>Welcome!</h2>
                <p>To access the image and information of the relevant exoplanet, you can click on the items in the list
                    or on the visual of the planet on the map.</p>
            </div>
        </div>
    </div>
    <div id="info-panel"
        style="position: fixed; bottom: 10%; left: 10px; width: 300px; height: 370px; padding: 10px; background-color: rgba(0, 0, 0, 0.8); border: 2px solid aqua; border-radius: 5px; color: whitesmoke; z-index: 2; display: none; overflow-y: auto; display: flex; flex-direction: column; justify-content: center;">

        
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua;font-size:90%; margin: 0;">Planet Name:</p>
            <p id="planet-name" style="color: rgb(255, 255, 255); font-size:90%; margin: 0;">Planet Name</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua;font-size:90%; margin: 0;">Orbital Period (Day):</p>
            <p id="planet-period" style="color: rgb(255, 255, 255);font-size:90%; margin: 0;">3.85</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua; margin: 0;font-size:90%;">Planet Radius (Earth):</p>
            <p id="planet-radius" style="color: rgb(255, 255, 255);font-size:90%; margin: 0;">1.0</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua; margin: 0;font-size:90%;">Planet Mass (Earth):</p>
            <p id="planet-mass" style="color: rgb(255, 255, 255);font-size:90%; margin: 0;">0.9</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua; margin: 0;font-size:90%;">Ra (Deg):</p>
            <p id="planet-ra" style="color: rgb(255, 255, 255);font-size:90%; margin: 0;">10.684</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua; margin: 0;font-size:90%;">Dec (Deg):</p>
            <p id="planet-dec" style="color: rgb(255, 255, 255);font-size:90%; margin: 0;">-59.21</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua; margin: 0;font-size:90%;">Distance (pc):</p>
            <p id="planet-distance" style="color: rgb(255, 255, 255); font-size:90%; margin: 0;">100.5</p>
        </div>

        <hr style="border: 0.5px solid aqua; margin-top: 10px; width: 100%;"> 

       
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua; margin: 0;font-size:90%;">Host Star Name:</p>
            <p id="star-name" style="color: rgb(255, 255, 255);font-size:90%; margin: 0;">Alpha Centauri</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua;font-size:90%; margin: 0;">Spectral Type:</p>
            <p id="star-spectral" style="color: rgb(255, 255, 255);font-size:90%; margin: 0;">G2V</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua; margin: 0;font-size:90%;">Effective Temperature (K):</p>
            <p id="star-temp" style="color: rgb(255, 255, 255); font-size:90%; margin: 0;">5778</p>
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 5px; margin-bottom: 10px;">
            <p style="color: aqua;font-size:90%; margin: 0;">Stellar Radius (Sun):</p>
            <p id="star-radius" style="color: rgb(255, 255, 255);font-size:90%; margin: 0;">1.02</p>
        </div>
    </div>






    <button id="toggle-info-btn"
        style="position: fixed; bottom: 10%; left: 320px; padding: 10px; border-radius: 5px; background-color: rgba(0, 0, 0, 0.8); color: aqua; border: 2px solid aqua; cursor: pointer; z-index: 3; display: none;">
        <i class="fa fa-chevron-left"></i>
    </button>

    <div id="3d-container" class="map-container"></div>


    <div id="exoplanet-list"
        style="position: absolute; top: 90px; right: 0px; width: 150px; padding: 10px; background-color: rgba(0, 0, 0, 0.8); border: 2px solid aqua; border-radius: 5px; color: whitesmoke; z-index: 2; max-height: 400px; overflow-y: auto;">
        <div style="text-align: center;">
            <h3 style="margin: 0; color: aqua; text-shadow: 0 0 3px aqua;">Exoplanets</h3>
            <input type="text" id="search-bar" placeholder="Search planet..."
                style="width: 90%; padding: 5px; margin-top: 10px; border-radius: 5px; border: 1px solid aqua;">
        </div>
        <ul id="planet-items" style="list-style-type: none; padding: 0; margin: 0;">

        </ul>
    </div>

    <button id="toggle-exoplanet-list-btn"
        style="position: absolute; top: 15%; right: 176px; padding: 10px; border-radius: 5px; background-color: rgba(0, 0, 0, 0.8); color: aqua; border: 2px solid aqua; cursor: pointer; z-index: 3;">
        <i class="fa fa-chevron-right"></i>
    </button>


    <footer class="footer">
        <ul>
            <li><a href="https://www.youtube.com/watch?v=nFZP8zQ5kzk"><i class="fa-brands fa-youtube"></i></a></li>
            <li><a
                    href="https://www.spaceappschallenge.org/nasa-space-apps-2024/find-a-team/cosmic-renasciences1/?tab=details"><i
                        class="fa-solid fa-link"></i></a></li>
            <li><a href="./ContacUs/page.html"><i class="fa-solid fa-phone"></i></a></li>
        </ul>
    </footer>


    <div id="tooltip"
        style="position: absolute; padding: 5px; background-color: black; color: whitesmoke; border-radius: 3px; pointer-events: none; opacity: 0; transition: opacity 0.3s;">
    </div>

    <script src="./deneme.js"></script>

    <script type="module">
        import * as THREE from 'https://cdn.skypack.dev/three@0.129.0/build/three.module.js';
        import { OrbitControls } from 'https://cdn.skypack.dev/three@0.129.0/examples/jsm/controls/OrbitControls.js';
        import { GLTFLoader } from 'https://cdn.skypack.dev/three@0.132.2/examples/jsm/loaders/GLTFLoader.js';
        import { RGBELoader } from 'https://cdn.skypack.dev/three@0.111.0/examples/jsm/loaders/RGBELoader.js';

        let listContainer;
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const loader = new GLTFLoader();
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setAnimationLoop(animate);
        document.body.appendChild(renderer.domElement);
        camera.position.set(0, 0, 0);

        const controls = new OrbitControls(camera, renderer.domElement);
        const rgbeLoader = new RGBELoader();

        rgbeLoader.load('space1.hdr', function (hdrTexture) {
            hdrTexture.mapping = THREE.EquirectangularReflectionMapping;
            scene.environment = hdrTexture;
            scene.background = hdrTexture;
        });

        var ambientLight = new THREE.AmbientLight(0xcccccc, 1);
        scene.add(ambientLight);

        const hemisphereLight = new THREE.HemisphereLight(0xaaaaaa, 0x000000, 0.9); 
        scene.add(hemisphereLight);

        var models = [];
        var selectedModel = null;
        let originalSceneState = {};

        function loadModel(path) {
            return new Promise((resolve, reject) => {
                loader.load(path, function (gltf) {
                    const model = gltf.scene || gltf.scenes[0];
                    console.log(`Model loaded from: ${path}`, model);

                    model.traverse((object) => {
                        if (object.isMesh) {
                            object.material.side = THREE.FrontSide;
                            object.material.roughness = 0.7;
                            object.material.metalness = 0.2;
                            object.material.depthTest = true;
                            models.push(object);
                        }
                    });
                    resolve(model);
                }, undefined, function (error) {
                    reject(error);
                });
            });
        }

        function addLights() {
            const ambientLight = new THREE.AmbientLight(0x404040, 1);
            scene.add(ambientLight);


        }

        Promise.all([
            loadModel('asset/DMPP1-b.glb'),
            loadModel('asset/DMPP2-bn.glb'),
            loadModel('asset/Gaia-2 b.glb'),
            loadModel('asset/HAT-P-59_b.glb'),
            loadModel('asset/HD_5278_c.glb'),
            loadModel('asset/HD_109271_c.glb'),
            loadModel('asset/HD_34445_e.glb'),
            loadModel('asset/HD_109271_c.glb'),
            loadModel('asset/HD_117618_b.glb'),
            loadModel('asset/HD_151450_b.glb'),
            loadModel('asset/HD_168443_b.glb'),
            loadModel('asset/HD_332231_b.glb'),
            loadModel('asset/rho_CrB_b.glb'),
            loadModel('asset/TOI_564_B.glb'),
            loadModel('asset/TOI_837_b.glb'),
            loadModel('asset/TOI_2570_b.glb'),
            loadModel('asset/TOI_5398_b.glb'),
            loadModel('asset/TrES-2_B.glb'),
            loadModel('asset/WASP-65_b.glb'),
            loadModel('asset/V830_Tau_b.glb'),
            loadModel('asset/WASP-97_b.glb'),
            loadModel('asset/WASP-119_b.glb'),

        ]).then(loadedModels => {
            const planet = loadedModels[0];
            planet.position.set(4.15, 73.64, -13.84);
            scene.add(planet);

            const planet1 = loadedModels[1];
            planet1.position.set(0, 0, 0);
            scene.add(planet1);

            const planet2 = loadedModels[2];
            planet2.position.set(-34.37, 90.79, 231.55);
            scene.add(planet2);

            const planet3 = loadedModels[3];
            planet3.position.set(56.14, -135.81, 282.65);
            scene.add(planet3);


            const planet4 = loadedModels[4];
            planet4.position.set(7.35, 1.64, -68.69);
            scene.add(planet4);

            const planet5 = loadedModels[5];
            planet5.position.set(34.54, 19.37, -7.16);
            scene.add(planet5);

            const planet6 = loadedModels[6];
            planet6.position.set(10.07, 53.92, 7.08);
            scene.add(planet6);

            const planet7 = loadedModels[7];
            planet7.position.set(-64.97, -9.59, -13.51);
            scene.add(planet7);

            const planet8 = loadedModels[8];
            planet8.position.set(-28.29, -12.07, -33.30);
            scene.add(planet8);

            const planet9 = loadedModels[9];
            planet9.position.set(-15.54, -47.84, -14.39);
            scene.add(planet9);

            const planet10 = loadedModels[10];
            planet10.position.set(4.10, -46.70, -7.93);
            scene.add(planet10);

            const planet11 = loadedModels[11];
            planet11.position.set(48.15, -64.50, 53.77);
            scene.add(planet11);

            const planet12 = loadedModels[12];
            planet12.position.set(-8.69, -15.21, 11.51);
            scene.add(planet12);

            const planet13 = loadedModels[13];
            planet13.position.set(-148.86, 175.56, -66.16);
            scene.add(planet13);

            const planet14 = loadedModels[14];
            planet14.position.set(-67.77, 28.71, -154.34);
            scene.add(planet14);

            const planet15 = loadedModels[15];
            planet15.position.set(18.05, 367.47, 230.65);
            scene.add(planet15);

            const planet16 = loadedModels[16];
            planet16.position.set(-120.23, 39.34, 93.03);
            scene.add(planet16);

            const planet17 = loadedModels[17];
            planet17.position.set(48.71, -161.24, 195.94);
            scene.add(planet17);

            const planet18 = loadedModels[18];
            planet18.position.set(-222.87, 236.30, 48.68);
            scene.add(planet18);

            const planet19 = loadedModels[19];
            planet19.position.set(52.52, 131.93, 64.90);
            scene.add(planet19);

            const planet20 = loadedModels[20];
            planet20.position.set(92.71, 42.46, -149.88);
            scene.add(planet20);

            const planet21 = loadedModels[21];
            planet21.position.set(85.29, 126.14, -329.45);
            scene.add(planet21);



            console.log("Models loaded.");
            createPlanetList(models);
        }).catch(error => {
            console.error("error", error);
        });

        addLights();

        camera.position.z = 5;

        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        window.addEventListener('click', onMouseClick, false);

        function onMouseClick(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(models);

            if (intersects.length > 0) {
                const clickedModel = intersects[0].object;

                
                if (selectedModel === clickedModel) {
                    
                    return;
                }

               
                if (selectedModel) {
                    selectedModel = null; 
                }

                focusOnModel(clickedModel);  
                showInfoPanel(clickedModel); 
            }
        }



        function focusOnModel(model) {
            models.forEach(m => m.visible = true);
            selectedModel = model;

            const boundingBox = new THREE.Box3().setFromObject(model);
            const center = boundingBox.getCenter(new THREE.Vector3());
            const size = boundingBox.getSize(new THREE.Vector3());

            const maxDimension = Math.max(size.x, size.y, size.z);
            const scaleFactor = 1.25;
            const distance = maxDimension * scaleFactor;

            const targetPosition = new THREE.Vector3(center.x, center.y, center.z + distance);

            const controlPoint = new THREE.Vector3(
                (camera.position.x + targetPosition.x) / 2,
                camera.position.y + 5,
                (camera.position.z + targetPosition.z) / 2
            );

            const startPosition = camera.position.clone();
            const startTarget = controls.target.clone();
            const duration = 3;
            let startTime = null;

            function animateCamera(timestamp) {
                if (!startTime) startTime = timestamp;
                const elapsed = (timestamp - startTime) / 400;
                const t = Math.min(elapsed / duration, 1);
                const easedT = easeInOutQuad(t);

                camera.position.x = (1 - easedT) * (1 - easedT) * startPosition.x + 2 * (1 - easedT) * easedT * controlPoint.x + easedT * easedT * targetPosition.x;
                camera.position.y = (1 - easedT) * (1 - easedT) * startPosition.y + 2 * (1 - easedT) * easedT * controlPoint.y + easedT * easedT * targetPosition.y;
                camera.position.z = (1 - easedT) * (1 - easedT) * startPosition.z + 2 * (1 - easedT) * easedT * controlPoint.z + easedT * easedT * targetPosition.z;

                controls.target.lerpVectors(startTarget, center, easedT);
                controls.update();

                if (t < 1) {
                    requestAnimationFrame(animateCamera);
                }
            }

            requestAnimationFrame(animateCamera);

            models.forEach(m => {
                if (m !== model) m.visible = false;
            });

            
            let returnButton = document.getElementById('return-button');
            if (!returnButton) {
                returnButton = document.createElement('button');
                returnButton.id = 'return-button';
                returnButton.innerHTML = 'Return';
                returnButton.style.position = 'absolute';
                returnButton.style.top = '90px';
                returnButton.style.left = '30px';
                returnButton.style.padding = '10px';
                returnButton.style.borderRadius = '5px';
                returnButton.style.zIndex = 1;
                returnButton.style.color = 'whitesmoke';
                returnButton.style.backgroundColor = '#000';
                returnButton.style.border = '2px solid aqua';
                returnButton.style.fontSize = '18px';
                returnButton.style.cursor = 'pointer';
                returnButton.style.transition = 'background-color 0.3s, color 0.3s';
                returnButton.style.width = 'auto';
                returnButton.style.boxShadow = '0 0 4px aqua';
                document.body.appendChild(returnButton);

                returnButton.addEventListener('mouseover', () => {
                    returnButton.style.backgroundColor = 'aqua';
                    returnButton.style.color = '#000';
                });

                returnButton.addEventListener('mouseout', () => {
                    returnButton.style.backgroundColor = '#000';
                    returnButton.style.color = 'whitesmoke';
                });

                returnButton.addEventListener('click', () => {
                    resetScene();  
                    hideInfoPanel();  
                });
            }

            
            returnButton.style.display = 'block';
        }



        function resetScene() {
            if (!selectedModel) return;  

            const modelPosition = selectedModel.position.clone(); 

            
            const direction = new THREE.Vector3();
            direction.subVectors(camera.position, modelPosition).normalize();  
        
            const distanceFactor = 2;  
            const targetPosition = modelPosition.clone().add(direction.multiplyScalar(distanceFactor));  

            const startPosition = camera.position.clone(); 
            const duration = 1;  
            let startTime = null;

            function animateCamera(timestamp) {
                if (!startTime) startTime = timestamp;
                const elapsed = (timestamp - startTime) / 1000;
                const t = Math.min(elapsed / duration, 1);  

                
                camera.position.lerpVectors(startPosition, targetPosition, t);

                controls.update();  

                if (t < 1) {
                    requestAnimationFrame(animateCamera); 
                } else {
                   
                    models.forEach(m => m.visible = true);

                    
                    selectedModel = null;

                   
                    const returnButton = document.getElementById('return-button');
                    if (returnButton) {
                        returnButton.style.display = 'none';  
                    }
                }
            }

            requestAnimationFrame(animateCamera);  
        }








        function hideInfoPanel() {
            const infoPanel = document.getElementById('info-panel');
            const toggleInfoBtn = document.getElementById('toggle-info-btn');
            infoPanel.style.display = 'none';
            toggleInfoBtn.style.display = 'none';
        }

        function showInfoPanel(model) {
            const infoPanel = document.getElementById('info-panel');
            const toggleInfoBtn = document.getElementById('toggle-info-btn');
            infoPanel.style.display = 'block';
            toggleInfoBtn.style.display = 'block';
            document.getElementById('planet-name').innerText = model.name;
            document.getElementById('planet-info').innerText = model.name;  
        }

        function easeInOutQuad(t) {
            return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
        }

        function animate() {
            controls.update();
            renderer.render(scene, camera);
        }

      
        function createPlanetList(models) {
            const listContainer = document.getElementById('planet-items');
            const tooltip = document.getElementById('tooltip'); 
            const raycaster = new THREE.Raycaster();
            const mouse = new THREE.Vector2();

            
            tooltip.style.opacity = 0;

            
            window.addEventListener('mousemove', onMouseMove, false);

            
            
            function onMouseMove(event) {
                
                if (selectedModel) {
                    tooltip.style.opacity = 0; 
                    return;
                }

                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(models);

                if (intersects.length > 0) {
                    const intersectedObject = intersects[0].object;
                    tooltip.style.left = `${event.clientX + 10}px`;
                    tooltip.style.top = `${event.clientY + 10}px`;
                    tooltip.innerHTML = intersectedObject.name || `Model`; 
                    tooltip.style.opacity = 1; 
                } else {
                    tooltip.style.opacity = 0; 
                }
            }

            
            models.forEach((model, index) => {
                model.traverse((object) => {
                    if (object.isMesh) {
                        const listItem = document.createElement('li');
                        listItem.innerHTML = object.name ? object.name : `Model ${index + 1}`;
                        listItem.style.padding = '10px';
                        listItem.style.cursor = 'pointer';
                        listItem.style.transition = 'color 0.3s, background-color 0.3s';
                        listItem.style.borderBottom = '1px solid aqua';

                        listItem.addEventListener('click', () => {
                            scene.add(model);
                            model.visible = true;
                            focusOnModel(model);
                        });

                        listContainer.appendChild(listItem);
                    }
                });
            });
        }

    </script>

    <script>
        const menuIcon = document.querySelector('.menu-icon');
        const navLinks = document.querySelector('.nav-links');

        menuIcon.addEventListener('click', () => {
            if (navLinks.classList.contains('active')) {
                navLinks.classList.add('fade-out');
                setTimeout(() => {
                    navLinks.classList.remove('active', 'fade-out');
                }, 500);
            } else {
                navLinks.classList.add('active', 'fade-in');
                setTimeout(() => {
                    navLinks.classList.remove('fade-in');
                }, 500);
            }
        });
    </script>

    <script>

        window.onload = function () {
            const popup = document.getElementById('popup');
            const closeBtn = document.querySelector('.close-btn');


            closeBtn.addEventListener('click', function () {
                popup.style.display = 'none';
            });

            window.onclick = function (event) {
                if (event.target === popup) {
                    popup.style.display = 'none';
                }
            };
        };
    </script>


    <script>
        const exoplanetList = document.getElementById('exoplanet-list');
        const toggleListBtn = document.getElementById('toggle-exoplanet-list-btn');
        let isListVisible = true;

        toggleListBtn.addEventListener('click', () => {
            if (isListVisible) {
                
                exoplanetList.classList.add('hidden-list');
                toggleListBtn.innerHTML = '<i class="fa fa-chevron-left"></i>'; 
                toggleListBtn.style.right = '10px'; 
            } else {
                
                exoplanetList.classList.remove('hidden-list');
                toggleListBtn.innerHTML = '<i class="fa fa-chevron-right"></i>'; 
                toggleListBtn.style.right = '176px'; 
            }
            isListVisible = !isListVisible;
        });



    </script>

    <script>
        const searchBar = document.getElementById('search-bar');
        const planetItems = document.getElementById('planet-items').getElementsByTagName('li');

        searchBar.addEventListener('input', () => {
            const filter = searchBar.value.toLowerCase();
            for (let i = 0; i < planetItems.length; i++) {
                const planetName = planetItems[i].textContent.toLowerCase();
                if (planetName.includes(filter)) {
                    planetItems[i].style.display = '';
                } else {
                    planetItems[i].style.display = 'none';
                }
            }
        });

    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const infoPanel = document.getElementById('info-panel');
            const planetNameElement = document.getElementById('planet-name');
            const planetPeriodElement = document.getElementById('planet-period');
            const planetRadiusElement = document.getElementById('planet-radius');
            const planetMassElement = document.getElementById('planet-mass');
            const planetRaElement = document.getElementById('planet-ra');
            const planetDecElement = document.getElementById('planet-dec');
            const planetDistanceElement = document.getElementById('planet-distance');
            const starNameElement = document.getElementById('star-name');
            const starSpectralElement = document.getElementById('star-spectral');
            const starTempElement = document.getElementById('star-temp');
            const starRadiusElement = document.getElementById('star-radius');
            const planetItems = document.getElementById('planet-items');

            if (planetItems) {
                planetItems.addEventListener('click', function (event) {
                    const clickedPlanet = event.target.textContent.trim();
                    if (planetData[clickedPlanet]) {
                        const data = planetData[clickedPlanet];
                        planetNameElement.textContent = data.name;
                        planetPeriodElement.textContent = data.period;
                        planetRadiusElement.textContent = data.radius;
                        planetMassElement.textContent = data.mass;
                        planetRaElement.textContent = data.ra;
                        planetDecElement.textContent = data.dec;
                        planetDistanceElement.textContent = data.distance;
                        starNameElement.textContent = data.starName;
                        starSpectralElement.textContent = data.spectralType;
                        starTempElement.textContent = data.temp;
                        starRadiusElement.textContent = data.starRadius;

                        infoPanel.style.display = 'block';
                    }
                });
            } else {
                console.error('Gezegen listesi bulunamadı.');
            }
        });
    </script>

    <script>
        const planetData = {
            "DMPP-1_b": {
                name: "DMPP1_b",
                period: "18.57",
                radius: "5.29",
                mass: "24.27",
                ra: "05h47m06.27s",
                dec: "-10d37m49.16",
                distance: "62.5388",
                starName: "DMPP-1",
                spectralType: "F8V",
                temp: "6196",
                starRadius: "1.26"
            },
            "DMPP-2_b": {
                name: "DMPP-2_b",
                period: "5.2072",
                radius: "14.3",
                mass: "138.892",
                ra: "1h49m37.86s",
                dec: "-34d27m32.75s",
                distance: "137.94",
                starName: "DMPP-2",
                spectralType: "F5V",
                temp: "6500",
                starRadius: "1.78"
            },
            "Gaia-2_b": {
                name: "Gaia-2_b",
                period: "3.69152",
                radius: "14.818",
                mass: "259.666",
                ra: "07h22m56.48s",
                dec: "67d15m09.56s",
                distance: "209.229",
                starName: "Gaia-2",
                spectralType: "N/A",
                temp: "5720",
                starRadius: "1.06"
            },
            "HAT-P-59_b": {
                name: "HAT-P-59_b",
                period: "4.14198",
                radius: "12.588",
                mass: "489.456",
                ra: "19h29m50.12s",
                dec: "62d31m45.08s",
                distance: "256.471",
                starName: "HAT-P-59",
                spectralType: "N/A",
                temp: "5678",
                starRadius: "1.1"
            },
            "HD_5278_c": {
                name: "HD_5278_c",
                period: "40.87",
                radius: "4.49",
                mass: "18.4",
                ra: "00h50m11.23s",
                dec: "-83d44m37.56s",
                distance: "57,5846",
                starName: "HD 5278",
                spectralType: "F V",
                temp: "6203",
                starRadius: "1.19"
            },
            "HD_11964_c": {
                name: "HD_11964_c",
                period: "37.91",
                radius: "5.38",
                mass: "25",
                ra: "01h57m09.22s",
                dec: "-10d14m36.49s",
                distance: "33.5369",
                starName: "HD 11964",
                spectralType: "G9 V CN+1",
                temp: "5303",
                starRadius: "2.01"
            },
            "HD_34445_e": {
                name: "HD_34445_e",
                period: "49.175",
                radius: "4.26",
                mass: "16.8",
                ra: "05h17m40.98s",
                dec: "7d21m09.78s",
                distance: "46.0907",
                starName: "HD 34445",
                spectralType: "G0 V",
                temp: "5836",
                starRadius: "1.38"
            },
            "HD_109271_c": {
                name: "HD_109271_c",
                period: "30.93",
                radius: "5.27",
                mass: "24.154",
                ra: "12h33m35.38s",
                dec: "-11d37m17.47s",
                distance: "55.8716",
                starName: "HD 109027",
                spectralType: "G5V",
                temp: "5783",
                starRadius: "1.29"
            },
            "HD_117618_b": {
                name: "HD_117618_b",
                period: "25.8",
                radius: "8.59",
                mass: "55.3024",
                ra: "13h32m25.59s",
                dec: "47d16m18.86s",
                distance: "37.7781",
                starName: "HD 117618",
                spectralType: "G2V",
                temp: "5990",
                starRadius: "1.2"
            },
            "HD_151450_b": {
                name: "HD_151450_b",
                period: "21.89288",
                radius: "6.94",
                mass: "38.4572",
                ra: "16h48m01.92s",
                dec: "-15d57m51.64s",
                distance: "43.6002",
                starName: "HD 151450",
                spectralType: "N/A",
                temp: "6091.98",
                starRadius: "1.17"
            },
            "HD_168443_b": {
                name: "HD_168443_b",
                period: "58.11187",
                radius: "12.6",
                mass: "2424,39509",
                ra: "18h20m03.84s",
                dec: "-09d35m48.09s",
                distance: "39.6245",
                starName: "HD 168443",
                spectralType: "G5",
                temp: "5491",
                starRadius: "1.71"
            },
            "HD_332231_b": {
                name: "HD_332231_b",
                period: "18.712024",
                radius: "9.073",
                mass: "74.1",
                ra: "20h26m57.87s",
                dec: "+33d44m39.80s",
                distance: "80.6665",
                starName: "HD 332231",
                spectralType: "F8",
                temp: "6128",
                starRadius: "1.27"
            },
            "rho_CrB_b": {
                name: "Rho CrB_b",
                period: "39.8438",
                radius: "13.7",
                mass: "347.38645",
                ra: "16h01m02.42s",
                dec: "33d18m00.67s",
                distance: "17.4671",
                starName: "rho CrB",
                spectralType: "G0 V",
                temp: "5817",
                starRadius: "1.35"
            },
            "TOI_564_B": {
                name: "TOI_564_B",
                period: "1.651144",
                radius: "11.433",
                mass: "464.98529",
                ra: "08h41m10.84s",
                dec: "-16d02m10.78s",
                distance: "199.581",
                starName: "TOI-564",
                spectralType: "N/A",
                temp: "5640",
                starRadius: "1.09"
            },
            "TOI_837_b": {
                name: "TOI_837_b",
                period: "8.3249113",
                radius: "9.169",
                mass: "120.45697",
                ra: "10h28m08.95s",
                dec: "-64d30m18.76s",
                distance: "142.488",
                starName: "TOI-837",
                spectralType: "F9/G0",
                temp: "5995",
                starRadius: "1.05"
            },
            "TOI_2570_b": {
                name: "TOI_2570_b",
                period: "2.9887615",
                radius: "13.641",
                mass: "260.61929",
                ra: "05h48m45.13s",
                dec: "32d05m02.56s",
                distance: "361.857",
                starName: "TOI-2570",
                spectralType: "F6V",
                temp: "5771",
                starRadius: "1.09"
            },
            "TOI_5398_b": {
                name: "TOI_5398_b",
                period: "10.590547",
                radius: "10.3",
                mass: "58.7",
                ra: "10h47m31.09s",
                dec: "36d19m45.96s",
                distance: "130.885",
                starName: "TOI-5398",
                spectralType: "G V",
                temp: "6000",
                starRadius: "1.05"
            },
            "TrES-2_B": {
                name: "TrES-2_B",
                period: "2.47063",
                radius: "15.244",
                mass: "473.5667",
                ra: "19h07m14.05s",
                dec: "49d18m59.12s",
                distance: "215.32",
                starName: "TrES-2",
                spectralType: "G0 V",
                temp: "5850",
                starRadius: "1.12"
            },
            "WASP-65_b": {
                name: "WASP-65_b",
                period: "2.3114243",
                radius: "12.464",
                mass: "492.62",
                ra: "08h53m17.83s",
                dec: "08d31m22.86s",
                distance: "273.703",
                starName: "WASP-65",
                spectralType: "G6",
                temp: "5600",
                starRadius: "1.01"
            },
            "V830_Tau_b": {
                name: "V830_Tau_b",
                period: "4.927",
                radius: "14",
                mass: "222.481",
                ra: "04h33m10.04s",
                dec: "24d33m42.93s",
                distance: "130.111",
                starName: "V830 Tau",
                spectralType: "G2V",
                temp: "4250",
                starRadius: "1.1"
            },
            "WASP-97_b": {
                name: "WASP-97_b",
                period: "2.07276",
                radius: "15.693",
                mass: "390.9309",
                ra: "01h38m25.23s",
                dec: "-55d46m19.20s",
                distance: "151.068",
                starName: "WASP-97",
                spectralType: "G5",
                temp: "5640",
                starRadius: "1.08"
            },
            "WASP-119_b": {
                name: "WASP-119_b",
                period: "2.49979",
                radius: "12.778",
                mass: "432.2488",
                ra: "03h43m44.07s",
                dec: "-65d11m37.61s",
                distance: "302.448",
                starName: "WASP-119",
                spectralType: "G5",
                temp: "5650",
                starRadius: "1.2"
            }
        };





        document.addEventListener("DOMContentLoaded", function () {
            const infoPanel = document.getElementById('info-panel');
            const planetNameElement = document.getElementById('planet-name');
            const planetInfoElement = document.getElementById('planet-info');
            const planetExtraInfoElement = document.getElementById('planet-extra-info'); 
            const toggleInfoBtn = document.getElementById('toggle-info-btn');
            const planetItems = document.getElementById('planet-items');
            let isInfoPanelVisible = false;
            let isZoomedIn = false;

            infoPanel.style.display = 'none';
            toggleInfoBtn.style.display = 'none';

            if (planetItems) {
                planetItems.addEventListener('click', function (event) {
                    const clickedPlanet = event.target.textContent.trim();
                    if (planetData[clickedPlanet]) {
                        planetNameElement.textContent = planetData[clickedPlanet].name;
                        planetInfoElement.textContent = planetData[clickedPlanet].info;
                        planetExtraInfoElement.textContent = planetData[clickedPlanet].extraInfo; 
                        infoPanel.style.display = 'block';  
                        toggleInfoBtn.style.display = 'block';  
                        showInfoPanel();  
                    }
                });
            } else {
                console.error('Gezegen listesi bulunamadı.');
            }

            window.addEventListener('click', function (event) {
                const selectedObject = event.target.object || event.target;
                const clickedPlanetName = selectedObject?.name;

                if (clickedPlanetName && planetData[clickedPlanetName]) {
                    planetNameElement.textContent = planetData[clickedPlanetName].name;
                    planetInfoElement.textContent = planetData[clickedPlanetName].info;
                    planetExtraInfoElement.textContent = planetData[clickedPlanetName].extraInfo; 
                    zoomIntoPlanet(selectedObject);
                }
            });

            toggleInfoBtn.addEventListener('click', function () {
                if (isInfoPanelVisible) {
                    infoPanel.style.transition = 'transform 0.5s ease, opacity 0.5s ease';
                    infoPanel.style.transform = 'translateX(-110%)';
                    infoPanel.style.opacity = '0';
                    toggleInfoBtn.style.transition = 'left 0.5s ease';
                    toggleInfoBtn.style.left = '10px';
                    toggleInfoBtn.innerHTML = '<i class="fa fa-chevron-right"></i>';
                } else {
                    infoPanel.style.transform = 'translateX(0)';
                    infoPanel.style.opacity = '1';
                    toggleInfoBtn.style.left = '320px';
                    toggleInfoBtn.innerHTML = '<i class="fa fa-chevron-left"></i>';
                }
                isInfoPanelVisible = !isInfoPanelVisible;
            });

            function zoomIntoPlanet(planet) {
                isZoomedIn = true;
                showInfoPanel();
            }

            function showInfoPanel() {
                if (isZoomedIn) {
                    infoPanel.style.display = 'block';
                    toggleInfoBtn.style.display = 'block';
                }
            }
        });
    </script>
    <script>
        console.log(document.getElementById('planet-items'));

    </script>


</body>

</html>